<%- include(viewDir + "/common/header.ejs") %>

<main>
    <section class="section section--author">
        <% if (message) { %>
            <span>
            <%= message %>
        </span>
        <% } %>
        <form class="form form--author"
        <% if (data) { %>
              data-url="/author/<%= data.id %>/edit"
        <% } else { %>
              data-url="/author/add"
                <% } %>
        >
            <h1 class="visually-hidden"><%= data ? "Edytuj" : "Dodaj" %> autora</h1>
            <div class="container author author--full">
                <div class="author__photo">
                    <img src="/images/960x960.png"
                         alt="Zdjęcie autora"
                    >
                </div>
                <div class="author__info">
                    <div class="field field--text">
                        <label class="field__label">
                            <span class="field__label__text visually-hidden">Imię</span>
                            <input class="field__label__input"
                                   placeholder="Imię"
                                   name="name"
                                   type="text"
                                   data-validate="required length"
                                   value="<%= data ? data.name : "" %>"
                            >
                        </label>
                    </div>
                    <div class="field field--text">
                        <label class="field__label">
                            <span class="field__label__text visually-hidden">Nazwisko</span>
                            <input class="field__label__input"
                                   placeholder="Nazwisko"
                                   name="surname"
                                   data-validate="required length"
                                   type="text"
                                   value="<%= data ? data.surname : "" %>"
                            >
                        </label>
                    </div>
                </div>
                <div class="author__description">
                    <div class="field field--textarea">
                        <label class="field__label">
                            <span class="field__label__text">Bio:</span>
                            <textarea class="field__label__input"
                                      name="bio"
                            >
                                <%= data ? data.bio : "" %>
                            </textarea>
                        </label>
                    </div>
                </div>
                <div class="field field--submit">
                    <input class="field__input button"
                           type="submit"
                           value="Zapisz"
                    >
                </div>
            </div>
        </form>
    </section>
</main>

<%- include(viewDir + "/common/footer.ejs") %>

