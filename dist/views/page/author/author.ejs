<%- include(viewDir + "/common/header.ejs") %>

<main>
    <section class="section section--author">
        <div class="container author author--full">
            <div class="author__photo">
                <img src="/images/960x960.png"
                     alt="Zdjęcie autora"
                >
            </div>
            <div class="author__info">
                <h1 class="author__info__name">
                    <%= author.name %> <%= author.surname %>
                </h1>
            </div>
            <div class="author__description">
                <p>
                    <%= author.bio %>
                </p>
            </div>
        </div>
    </section>

    <% if (books.length > 0) { %>
        <section class="section section--other-books">
            <div class="container">
                <h2>
                    Inne książki tego autora
                </h2>
                <div class="list list--block">
                    <% for(const book of books){ %>
                        <div class="list__item book book--list-item">
                            <img class="book__thumbnail"
                                 src="/images/960x960.png"
                                 alt="Miniatura"
                            >
                            <a class="book__title"
                               href="/book/<%= book.id %>"
                            >
                                <%= book.title %>
                            </a>
                            <% if (book.authors && Array.isArray(book.authors)) { %>

                                <% for (const author of book.authors) { %>
                                    <a class="book__author"
                                       href="/author/<%= author.id %>"
                                    >
                                        <%= author.name %> <%= author.surname %>
                                    </a>
                                <% } %>
                            <% } %>
                        </div>
                    <% } %>
                </div>
            </div>
        </section>
    <% } %>
</main>
<%- include(viewDir + "/common/footer.ejs") %>
